<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Consulta</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/consultas.css">
    <link rel="stylesheet" href="/static/css/generic.css">
</head>
<body>
<header>
        <div class="logo">
        <nav class="menu">
            
            <ul>
                <li><a href="/dashboard_medico">Dashboard</a></li>
                <li><a href="/registro_paciente_animal">Gestion Paciente</a></li>
                <li><a href="/seleccionar_paciente_consulta">Gestion Consulta</a></li>
                <li><a href="/gestion_insumos">Gestion Insumos</a></li>
                <li><a href="/medicamento">Gestion Medicamentos</a></li>
            </ul>

            <div class="btn-group">
                <a href="{{ url_for('rutas_login.login') }}" class="btn-cupo"> Cerrar Sesi贸n</a>
            </div>
        </nav>
    </header>

<main>
    <h2>Registrar Consulta M茅dica</h2>
    <form action="/registro_consulta" method="POST" enctype="multipart/form-data">
        <label for="id_paciente">Paciente:</label>
        <select name="id_paciente" id="id_paciente" required>
            <option value="">Seleccione un paciente</option>
            {% for paciente in pacientes %}
                <option value="{{ paciente.id_paciente }}">{{ paciente.nombre_paciente }} - {{ paciente.numero_documento}}</option>
            {% endfor %}
        </select>

        <label for="fecha_consulta">Fecha de atenci贸n:</label>
        <input type="date" name="fecha_consulta" id="fecha_consulta" required>

        <label for="hora_consulta">Hora de atenci贸n:</label>
        <input type="time" name="hora_consulta" id="hora_consulta" required>

        <label for="motivo_consulta">Motivo de consulta:</label>
        <textarea name="motivo_consulta" id="motivo_consulta" required></textarea>

        <label for="diagnostico">Diagn贸stico:</label>
        <textarea name="diagnostico" id="diagnostico" required></textarea>

        <label for="tratamientos">Tratamientos recomendados:</label>
        <textarea name="tratamientos" id="tratamientos"></textarea>

        <label for="medicamentos">Medicamentos recetados:</label>
        <textarea name="medicamentos" id="medicamentos"></textarea>

        <label for="observaciones">Observaciones adicionales:</label>
        <textarea name="observaciones" id="observaciones"></textarea>

        <label for="estado_consulta">Estado de la Consulta:</label>
        <select name="estado_consulta" required>
            <option value="Activa">Activa</option>
            <option value="Cerrada">Cerrada</option>
        </select>

        <label for="documento">M茅dico a cargo:</label>
        <select name="firma_veterinario" id="firma_veterinario" required>
        <option value="">Seleccione un m茅dico</option>
        {% for medico in medicos %}
        <option value="{{ medico.numero_documento }}">{{ medico.nombre_usuario }} {{ medico.apellido_usuario }}</option>
        {% endfor %}
        </select>

        <label for="archivos_consulta">Adjuntar documentos o im谩genes (m谩x. 3 archivos):</label>
        <input type="file" name="archivos_consulta" id="archivos_consulta" multiple accept=".jpg,.jpeg,.png,.pdf">

        <br>
        <input type="submit" value="Registrar Consulta" name="action" class="btn btn-success">
        <br>
        <a href="/listar_consulta" class="btn btn-primary">Ver lista de pacientes</a>
    </form>
    {% include 'modals/errorModal.html' %}
</main>

<footer>
        <div>
            Copyright 漏 2025 Developed by Trio Imperial co.
        </div>

        <div>
            Powered by Petfriendly
        </div>
    </footer>

<script src="/static/js/registro_consulta.js"></script>
</body>
</html>